<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Chat VD</title>
<style type="text/css">.embeddedServiceHelpButton .helpButton .uiButton {
    background-color: #EB640A;
    font-family: "Salesforce Sans", sans-serif;
}
.embeddedServiceHelpButton .helpButton .uiButton:focus {
    outline: 1px solid #EB640A;
}
@font-face {
    font-family: 'Salesforce Sans';
    src: url('https://c1.sfdcstatic.com/etc/clientlibs/sfdc-aem-master/clientlibs_base/fonts/SalesforceSans-Regular.woff') format('woff'),
    url('https://c1.sfdcstatic.com/etc/clientlibs/sfdc-aem-master/clientlibs_base/fonts/SalesforceSans-Regular.ttf') format('truetype');
}
.chatMessage {
    height: unset !important;
}
.embeddedServiceSidebarMinimizedDefaultUI .content {
    margin: 0;
    position: relative;
    transform: inherit;
}
img[embeddedService-chatHeader_chatHeader] {
    content:url("https://supergasbras--c.na152.content.force.com/servlet/servlet.ImageServer?id=0154z000002fsvE&oid=00DA00000009Vdx&lastMod=1637689920000") !important;
}
.postChatButton span {
    display: none !important;
}
</style>
<script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script><script>
$(document).ready(function() {
      const chatTempVar = new URLSearchParams(window.location.search).get("chat");
    const customerName = LumisPortal.getCookie("sgi_sfe_chat_customer_name");
    const customerId = LumisPortal.getCookie("sgi_sfe_chat_customer_id");
    const recordTypeId = LumisPortal.getCookie("sgi_sfe_chat_record_type_id");
    if (chatTempVar == "visivel" && customerName && customerId && recordTypeId) {
      var initESW = function(gslbBaseURL) {
      embedded_svc.settings.displayHelpButton = true; //Or false
      embedded_svc.settings.language = 'pt-BR'; //For example, enter 'en' or 'en-US'
          embedded_svc.settings.defaultMinimizedText = 'Iniciar bate-papo'; //(Defaults to Chat with an Expert)
      embedded_svc.settings.disabledMinimizedText = 'Agente off-line'; //(Defaults to Agent Offline)
      embedded_svc.settings.loadingText = 'Carregando'; //(Defaults to Loading)
      //embedded_svc.settings.defaultMinimizedText = '...'; //(Defaults to Chat with an Expert)
      //embedded_svc.settings.disabledMinimizedText = '...'; //(Defaults to Agent Offline)
      //embedded_svc.settings.loadingText = ''; //(Defaults to Loading)
      //embedded_svc.settings.storageDomain = 'yourdomain.com'; //(Sets the domain for your deployment so that visitors can navigate subdomains during a chat session)
      // Settings for Chat
      //embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
          // Dynamically changes the button ID based on what the visitor enters in the pre-chat form.
          // Returns a valid button ID.
      //};
      //embedded_svc.settings.prepopulatedPrechatFields = {}; //Sets the auto-population of pre-chat form fields
      //embedded_svc.settings.fallbackRouting = []; //An array of button IDs, user IDs, or userId_buttonId
      //embedded_svc.settings.offlineSupportMinimizedText = '...'; //(Defaults to Contact Us)

      embedded_svc.settings.extraPrechatFormDetails = [{ "label": "FirstName",
                                                          "value": 'DORIVAL BUENO DA LUZ JUNIOR',
                                                          "displayToAgent": false
                                                      },{ "label": "Origin",
                                                          "value": "Chat",
                                                          "displayToAgent": false
                                                      },{ "label": "Id",
                                                          "value": '0014z00001ls7m2AAA',
                                                          "displayToAgent": false
                                                      },{ "label": "RecordTypeId",
                                                          "value": '0121Y000001J66KQAS',
                                                          "displayToAgent": false
                                                      }]; 
      embedded_svc.settings.extraPrechatInfo = [{ "entityName": "Contact",
                                                  "showOnCreate": false,
                                                  "saveToTranscript": "",
                                                  "entityFieldMaps": [{
                                                      "isExactMatch": false, 
                                                      "fieldName": "FirstName",
                                                      "doCreate": false, 
                                                      "doFind": false, 
                                                      "label": "FirstName"
                                                  }]
                                              },{ "showOnCreate": true,
                                                  "entityName": "Account",
                                                  "saveToTranscript": "AccountId",
                                                  "linkToEntityName": "Case",
                                                  "linkToEntityField": "AccountId",
                                                  "entityFieldMaps": [{
                                                          "doCreate": false,
                                                          "doFind": true,
                                                          "fieldName": "Id",
                                                          "isExactMatch": true,
                                                          "label": "Id"
                                                      }]
                                              },{ "entityName": "Case",
                                                  "showOnCreate": true,
                                                  "saveToTranscript": "CaseId",
                                                  "entityFieldMaps": [{
                                                      "isExactMatch": false,
                                                      "fieldName": "RecordTypeId",
                                                      "doCreate": true,
                                                      "doFind": false,
                                                      "label": "RecordTypeId"
                                                      },{
                                                      "isExactMatch": false,
                                                      "fieldName": "Origin",
                                                      "doCreate": true,
                                                      "doFind": false,
                                                      "label": "Origin"
                                                      }]
                                                }];
      embedded_svc.settings.enabledFeatures = ['LiveAgent'];
      embedded_svc.settings.entryFeature = 'LiveAgent';
      embedded_svc.init(
          'https://supergasbras.my.salesforce.com',
          '	https://supergasbras--uat.sandbox.my.site.com/AssistenciaTecnica',
          gslbBaseURL,
          '00D7g0000005wVC',
          'CanaisDigitais',
          {
              baseLiveAgentContentURL: 'https://c.la3-c1-ia5.salesforceliveagent.com/content',
              deploymentId: '5721Y000000NXVA',
              buttonId: '5731Y000000NaVm',
              baseLiveAgentURL: 'https://d.la3-c1-ia5.salesforceliveagent.com/chat',
              eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I1Y000000blMNUAY_17871376008',
              isOfflineSupportEnabled: false
          }
      );
      };
      if (!window.embedded_svc) {
          var s = document.createElement('script');
          s.setAttribute('src', 'https://supergasbras.my.salesforce.com/embeddedservice/5.0/esw.min.js');
          s.onload = function() {
              initESW(null);
          };
          document.body.appendChild(s);
      } else {
          initESW('https://service.force.com');
      }
    }
});
</script>
</head>
 
<body>
 
</body>
</html>